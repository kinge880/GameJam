[gd_scene load_steps=7 format=2]

[ext_resource path="res://Script/Map.gd" type="Script" id=1]
[ext_resource path="res://Sprites/Word.tres" type="TileSet" id=2]
[ext_resource path="res://Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://EnemyArea.tscn" type="PackedScene" id=4]

[sub_resource type="GDScript" id=1]
script/source = "extends Navigation2D
\"\"\"var path = []
var pos = Vector2(0,0)
var label = Label.new()
var font = label.get_font(\"\")
func _ready():
	set_process_input(true)

#pinta o caminho que foi selecionado
func _draw():
	if path.size():
		for i in range(path.size()):
			print(Vector2(path[i].x, path[i].y -20))
			draw_circle(path[i], 10, Color(1,1,1))
#inserido para verificar o caminho com base no click do mouse (para facilitar o teste), agora s√≥ falta editar isso para o player
func _input(Event):
	if Event is InputEventMouseButton:
		path = get_simple_path(get_node(\"../Player\").position, get_global_mouse_position())
		update()\"\"\""

[sub_resource type="NavigationPolygon" id=2]
vertices = PoolVector2Array( 322.875, 214.214, 557.586, 495.109, 537.593, 490.245, 134.191, 355.87, 315.365, 218.47, 511.115, 487.544, 492.743, 495.649, 578.12, 544.822, 720.249, 94.7076, 718.742, 602.681, 573.797, 566.977, 575.418, 524.288, 567.853, 504.295, 334.14, 182.921, 331.136, 170.904, 333.139, 195.688, 329.384, 206.453, 479.234, 510.779, 125.81, 382.407, 303.598, 218.97, 291.832, 216.717, 132.794, 327.936, 282.82, 212.962, 120.922, 305.59, 276.561, 203.699, 475.992, 533.474, 564.611, 582.107, 274.058, 192.935, 94.3853, 293.718, 324.127, 161.391, 273.807, 181.669, 478.153, 552.927, 107.654, 395.675, 485.178, 572.38, 84.6086, 401.262, 275.81, 171.405, 55.9767, 295.115, 313.612, 157.135, 280.817, 162.893, -178.126, 96.2149, -176.619, 602.681, 55.2784, 401.262, 502.469, 585.889, 550.561, 584.808, 538.133, 590.212, 520.301, 590.212, 35.7249, 387.993, 29.4399, 367.742, 27.3449, 351.68, 27.3449, 325.841, 32.2332, 309.78, 288.327, 157.636, 300.594, 155.383 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4 ), PoolIntArray( 3, 2, 5 ), PoolIntArray( 3, 5, 6 ), PoolIntArray( 7, 8, 9, 10 ), PoolIntArray( 8, 7, 11 ), PoolIntArray( 8, 11, 12 ), PoolIntArray( 13, 14, 8, 12, 1 ), PoolIntArray( 15, 13, 1 ), PoolIntArray( 16, 15, 1 ), PoolIntArray( 3, 6, 17, 18 ), PoolIntArray( 0, 16, 1 ), PoolIntArray( 19, 4, 3 ), PoolIntArray( 20, 19, 3, 21 ), PoolIntArray( 22, 20, 21, 23 ), PoolIntArray( 24, 22, 23 ), PoolIntArray( 18, 17, 25 ), PoolIntArray( 26, 10, 9 ), PoolIntArray( 27, 24, 23, 28 ), PoolIntArray( 8, 14, 29 ), PoolIntArray( 30, 27, 28 ), PoolIntArray( 18, 25, 31, 32 ), PoolIntArray( 32, 31, 33, 34 ), PoolIntArray( 35, 30, 28, 36 ), PoolIntArray( 8, 29, 37 ), PoolIntArray( 38, 35, 36, 39 ), PoolIntArray( 40, 41, 34, 33, 42 ), PoolIntArray( 43, 26, 9, 44 ), PoolIntArray( 44, 9, 40, 45 ), PoolIntArray( 42, 45, 40 ), PoolIntArray( 46, 41, 40 ), PoolIntArray( 46, 40, 39, 47 ), PoolIntArray( 48, 47, 39 ), PoolIntArray( 49, 48, 39 ), PoolIntArray( 50, 49, 39 ), PoolIntArray( 36, 50, 39 ), PoolIntArray( 51, 38, 39 ), PoolIntArray( 52, 51, 39 ), PoolIntArray( 52, 39, 8 ), PoolIntArray( 52, 8, 37 ) ]
outlines = [ PoolVector2Array( -178.126, 96.2149, -176.619, 602.681, 718.742, 602.681, 720.249, 94.7076 ), PoolVector2Array( 32.2332, 309.78, 55.9767, 295.115, 94.3853, 293.718, 120.922, 305.59, 132.794, 327.936, 134.191, 355.87, 125.81, 382.407, 107.654, 395.675, 84.6086, 401.262, 55.2784, 401.262, 35.7249, 387.993, 29.4399, 367.742, 27.3449, 351.68, 27.3449, 325.841 ), PoolVector2Array( 280.817, 162.893, 275.81, 171.405, 273.807, 181.669, 274.058, 192.935, 276.561, 203.699, 282.82, 212.962, 291.832, 216.717, 303.598, 218.97, 315.365, 218.47, 322.875, 214.214, 329.384, 206.453, 333.139, 195.688, 334.14, 182.921, 331.136, 170.904, 324.127, 161.391, 313.612, 157.135, 300.594, 155.383, 288.327, 157.636 ), PoolVector2Array( 492.743, 495.649, 479.234, 510.779, 475.992, 533.474, 478.153, 552.927, 485.178, 572.38, 502.469, 585.889, 520.301, 590.212, 538.133, 590.212, 550.561, 584.808, 564.611, 582.107, 573.797, 566.977, 578.12, 544.822, 575.418, 524.288, 567.853, 504.295, 557.586, 495.109, 537.593, 490.245, 511.115, 487.544 ) ]

[node name="Map" type="Node"]
script = ExtResource( 1 )

[node name="Ground" type="TileMap" parent="."]
z_index = -1
format = 1
tile_data = PoolIntArray( 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 11, 0, 0, 12, 0, 0, 13, 0, 0, 65536, 0, 0, 65537, 0, 0, 65538, 0, 0, 65539, 0, 0, 65540, 0, 0, 65541, 0, 0, 65542, 0, 0, 65543, 0, 0, 65544, 0, 0, 65545, 0, 0, 65546, 0, 0, 65547, 0, 0, 65548, 0, 0, 65549, 0, 0, 131072, 0, 0, 131073, 0, 0, 131074, 3, 0, 131075, 0, 0, 131076, 0, 0, 131077, 3, 0, 131078, 0, 0, 131079, 0, 0, 131080, 0, 0, 131081, 0, 0, 131082, 0, 0, 131083, 0, 0, 131084, 0, 0, 131085, 0, 0, 196608, 0, 0, 196609, 0, 0, 196610, 0, 0, 196611, 0, 0, 196612, 0, 0, 196613, 0, 0, 196614, 0, 0, 196615, 0, 0, 196616, 0, 0, 196617, 0, 0, 196618, 0, 0, 196619, 0, 0, 196620, 0, 0, 196621, 0, 0, 262144, 0, 0, 262145, 0, 0, 262146, 0, 0, 262147, 0, 0, 262148, 0, 0, 262149, 0, 0, 262150, 0, 0, 262151, 0, 0, 262152, 0, 0, 262153, 0, 0, 262154, 0, 0, 262155, 0, 0, 262156, 0, 0, 262157, 0, 0, 327680, 0, 0, 327681, 0, 0, 327682, 0, 0, 327683, 0, 0, 327684, 0, 0, 327685, 0, 0, 327686, 0, 0, 327687, 0, 0, 327688, 0, 0, 327689, 0, 0, 327690, 0, 0, 327691, 0, 0, 327692, 0, 0, 327693, 0, 0, 393216, 0, 0, 393217, 0, 0, 393218, 3, 0, 393219, 0, 0, 393220, 0, 0, 393221, 0, 0, 393222, 0, 0, 393223, 0, 0, 393224, 0, 0, 393225, 3, 0, 393226, 0, 0, 393227, 0, 0, 393228, 0, 0, 393229, 0, 0, 458752, 0, 0, 458753, 0, 0, 458754, 0, 0, 458755, 0, 0, 458756, 0, 0, 458757, 0, 0, 458758, 0, 0, 458759, 0, 0, 458760, 0, 0, 458761, 0, 0, 458762, 0, 0, 458763, 0, 0, 458764, 0, 0, 458765, 0, 0 )

[node name="AboveGround" type="TileMap" parent="."]
format = 1
tile_data = PoolIntArray( 12, 6, 0, 65543, 5, 0, 196616, 6, 0, 393222, 6, 0, 458754, 6, 0 )

[node name="AbovePlayer" type="TileMap" parent="."]
z_index = 1
tile_set = ExtResource( 2 )
format = 1
tile_data = PoolIntArray( 196611, 4, 0 )

[node name="Player" parent="." instance=ExtResource( 3 )]
position = Vector2( 318.4, 139.495 )

[node name="EnemyNode" parent="." instance=ExtResource( 4 )]
position = Vector2( 701.862, 293.639 )

[node name="Navigation2D" type="Navigation2D" parent="."]
script = SubResource( 1 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
position = Vector2( 176.396, -91.3568 )
navpoly = SubResource( 2 )
[connection signal="shoot" from="Player" to="." method="_on_Player_shoot"]
